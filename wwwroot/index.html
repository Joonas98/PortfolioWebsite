<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PortfolioWebsite</title>
    <base href="/" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="Icons/BG.png">

    <!-- Custom Font -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet" />

    <!-- CSS -->
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/navbar.css" />
    <link rel="stylesheet" href="css/projects.css" />
    <link rel="stylesheet" href="css/images.css" />
    <link rel="stylesheet" href="css/contacts.css" />

    <!-- Vanta.js / Fog dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.fog.min.js"></script>

    <!-- Vanta container styling -->
    <style>
        #vanta-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            pointer-events: none;
        }
    </style>
</head>

<body>
    <!-- Vanta FOG background -->
    <div id="vanta-bg"></div>

    <!-- Blazor application root -->
    <div id="app">
        <!--<svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>-->
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>

    <!-- Initialize Vanta FOG with animated highlightColor -->
    <script>
        // 1. Kick off the Vanta instance, leave all other colors static:
        const vanta = VANTA.FOG({
            el: "#vanta-bg",
            mouseControls: false,
            touchControls: false,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            highlightColor: 0x343419, 
            midtoneColor: 0x0f140f,
            lowlightColor: 0x000000, 
            baseColor: 0x000000
        });

        // 2. Begin cycling the hue for just the highlightColor:
        let hue = 60; // start around original #343419

        function animateHighlightColor() {
            // advance hue and wrap
            hue = (hue + 0.15) % 360;

            // convert HSL â†’ RGB
            const { r, g, b } = hslToRgb(hue / 360, 0.6, 0.1);

            // pack into 0xRRGGBB integer
            const colorHex = (r << 16) | (g << 8) | b;

            // update only highlightColor
            vanta.setOptions({ highlightColor: colorHex });

            requestAnimationFrame(animateHighlightColor);
        }
        animateHighlightColor();

        // helper to convert normalized H, S, L â†’ {r,g,b}
        function hslToRgb(h, s, l) {
            if (s === 0) {
                const val = Math.round(l * 255);
                return { r: val, g: val, b: val };
            }
            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1 / 6) return p + (q - p) * 6 * t;
                if (t < 1 / 2) return q;
                if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                return p;
            };
            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
            const p = 2 * l - q;
            const r = hue2rgb(p, q, h + 1 / 3);
            const g = hue2rgb(p, q, h);
            const b = hue2rgb(p, q, h - 1 / 3);
            return { r: Math.round(r * 255), g: Math.round(g * 255), b: Math.round(b * 255) };
        }
    </script>

    <!-- Boot Blazor WebAssembly -->
    <script src="_framework/blazor.webassembly.js"></script>

    <!-- The website has Blazor & VANTA JS that need JavaScript. If JS is disabled, let the user know -->
    <noscript>
        <style>
            #vanta-bg {
                display: none !important;
            }

            body {
                background: url("/images/StaticTexture.png") repeat, linear-gradient(135deg, #111111 0%, #202020 100%);
                background-size: 256px 256px, cover;
            }
        </style>
        <div style="
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.85);
    color: #fff;
    padding: 2rem 3rem;
    z-index: 10000;
    font-size: 2.5rem;
    text-align: center;
    border-radius: 8px;
    max-width: 90%;
    line-height: 1.4;
  ">
            JavaScript is disabled in your browser.
            For the best experience, please enable JavaScript.
        </div>
    </noscript>

</body>

</html>
